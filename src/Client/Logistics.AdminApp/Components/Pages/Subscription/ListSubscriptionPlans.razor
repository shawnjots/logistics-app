@page "/subscription-plans"
@inherits PageBase

<RadzenText TextStyle="TextStyle.H3">Subscription Plans</RadzenText>
<hr/>

<RadzenButton class="mb-3" Click="@(() => Navigation.NavigateTo("/subscription-plans/add"))">Add</RadzenButton>

<RadzenDataGrid 
    Data="_subscriptionPlans"
    LoadData="LoadData"
    Count="_totalRecords"
    AllowPaging="true"
    AllowSorting="true"
    PageSizeOptions="new[] { 10, 25, 50 }"
    PageSize="10">
    <Columns>
        <RadzenDataGridColumn 
            TItem="SubscriptionPlanDto"
            Property="Name"
            Title="Name">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn 
            TItem="SubscriptionPlanDto"
            Property="Description"
            Title="Description">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn 
            TItem="SubscriptionPlanDto"
            Property="Price"
            Title="Price">
            <Template Context="subscriptionPlan">
                <CurrencyText Value="subscriptionPlan.Price"/>
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn 
            TItem="SubscriptionPlanDto"
            Property="HasTrial"
            Title="Has Trial">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn
            TItem="SubscriptionPlanDto"
            Property="StripeProductId"
            Title="Stripe Product ID">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn
            TItem="SubscriptionPlanDto"
            Property="StripePriceId"
            Title="Stripe Price ID">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn 
            TItem="SubscriptionPlanDto" 
            Title="Action">
            <Template Context="subscriptionPlan">
                <RadzenButton Click="@(() => Navigation.NavigateTo($"subscription-plans/{subscriptionPlan.Id}"))">Edit</RadzenButton>
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</RadzenDataGrid>
